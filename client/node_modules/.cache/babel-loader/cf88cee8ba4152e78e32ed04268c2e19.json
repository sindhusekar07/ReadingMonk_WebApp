{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\SINDHUSEKAR\\\\reading-monk\\\\client\\\\src\\\\Scripts\\\\AddForm.js\";\nimport React from 'react';\nimport PrimaryLink from '../axios/primary_link';\n\nclass AddForm extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.createBook = async () => {\n      let fields = this.state.fields;\n      let res = await PrimaryLink.post('/books', {\n        \"name\": fields['bname'],\n        \"author\": fields['auth'],\n        \"publication_year\": fields['yr'],\n        \"in_language\": fields['lang'],\n        \"number_of_pages\": fields['pgs'],\n        \"publisher\": fields['publ'],\n        \"user_id\": localStorage.getItem(\"userid\"),\n        \"book_location\": fields['loc']\n      }, {\n        headers: {\n          'x-access-token': localStorage.getItem(\"token\")\n        }\n      });\n      console.log(res);\n    };\n\n    this.onChange = event => {\n      let fields = this.state.fields;\n      fields[event.target.name] = event.target.value;\n      this.setState({\n        fields\n      });\n    };\n\n    this.onSubmit = event => {\n      event.preventDefault();\n      let fields = this.state.fields;\n      let errors = {};\n      let isValid = true;\n\n      if (!fields['bname']) {\n        isValid = false;\n        errors['bname'] = \"Please enter book name.\";\n      }\n\n      if (!fields['yr']) {\n        isValid = false;\n        errors['yr'] = \"Please enter publication year.\";\n      }\n\n      if (!fields['publ']) {\n        isValid = false;\n        errors['publ'] = \"Please enter publisher information.\";\n      }\n\n      if (!fields['lang']) {\n        isValid = false;\n        errors['lang'] = \"Please enter publisher information.\";\n      }\n\n      if (!fields['loc']) {\n        isValid = false;\n        errors['loc'] = \"Please enter book location.\";\n      }\n\n      this.setState({\n        errors: errors\n      });\n\n      if (isValid === true) {\n        this.setState({\n          fields: fields\n        });\n        console.log(this.state);\n        this.createBook();\n        alert(\"submitted\");\n        window.location.reload();\n      }\n    };\n\n    this.state = {\n      errors: {},\n      fields: {}\n    };\n    this.onChange = this.onChange.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"bname\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 21\n      }\n    }, \"Book Name:\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: this.state.errors.bname ? \"error\" : null,\n      type: \"text\",\n      name: \"bname\",\n      placeholder: \"Enter Book Name\",\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"errorMessage\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 21\n      }\n    }, this.state.errors.bname)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"auth\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 21\n      }\n    }, \"Authors:\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: this.state.errors.auth ? \"error\" : null,\n      type: \"text\",\n      name: \"auth\",\n      placeholder: \"Author1, Author2, ...\",\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"errorMessage\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 21\n      }\n    }, this.state.errors.auth)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"yr\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 21\n      }\n    }, \"Publication Year:\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: this.state.errors.yr ? \"error\" : null,\n      type: \"date\",\n      name: \"yr\",\n      placeholder: \"Enter Publication Year\",\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"errorMessage\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 21\n      }\n    }, this.state.errors.yr)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"lang\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 21\n      }\n    }, \"In Language:\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: this.state.errors.lang ? \"error\" : null,\n      type: \"text\",\n      name: \"lang\",\n      placeholder: \"Enter Language\",\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"errorMessage\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 21\n      }\n    }, this.state.errors.lang)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"pgs\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 21\n      }\n    }, \"Number of Pages:\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: this.state.errors.pgs ? \"error\" : null,\n      type: \"number\",\n      name: \"pgs\",\n      placeholder: \"Enter number of pages\",\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"errorMessage\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 21\n      }\n    }, this.state.errors.pgs)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"publ\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 21\n      }\n    }, \"Publisher:\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: this.state.errors.publ ? \"error\" : null,\n      type: \"text\",\n      name: \"publ\",\n      placeholder: \"Enter publisher name\",\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"errorMessage\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 21\n      }\n    }, this.state.errors.publ)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"loc\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 21\n      }\n    }, \"Book Location:\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: this.state.errors.loc ? \"error\" : null,\n      type: \"text\",\n      name: \"loc\",\n      placeholder: \"Enter book location\",\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"errorMessage\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 21\n      }\n    }, this.state.errors.loc)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mySubmit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      value: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 47\n      }\n    }, \"Add\")))));\n  }\n\n}\n\nexport default AddForm;","map":{"version":3,"sources":["C:/Users/SINDHUSEKAR/reading-monk/client/src/Scripts/AddForm.js"],"names":["React","PrimaryLink","AddForm","Component","constructor","props","createBook","fields","state","res","post","localStorage","getItem","headers","console","log","onChange","event","target","name","value","setState","onSubmit","preventDefault","errors","isValid","alert","window","location","reload","bind","render","bname","auth","yr","lang","pgs","publ","loc"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,WAAP,MAAwB,uBAAxB;;AAGA,MAAMC,OAAN,SAAsBF,KAAK,CAACG,SAA5B,CAAsC;AAClCC,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN;;AADc,SAUlBC,UAVkB,GAUL,YAAU;AACnB,UAAIC,MAAM,GAAG,KAAKC,KAAL,CAAWD,MAAxB;AACA,UAAIE,GAAG,GAAC,MAAMR,WAAW,CAACS,IAAZ,CAAiB,QAAjB,EACd;AAAC,gBAAOH,MAAM,CAAC,OAAD,CAAd;AACA,kBAAUA,MAAM,CAAC,MAAD,CADhB;AAEA,4BAAmBA,MAAM,CAAC,IAAD,CAFzB;AAGA,uBAAcA,MAAM,CAAC,MAAD,CAHpB;AAIA,2BAAkBA,MAAM,CAAC,KAAD,CAJxB;AAKA,qBAAYA,MAAM,CAAC,MAAD,CALlB;AAMA,mBAAUI,YAAY,CAACC,OAAb,CAAqB,QAArB,CANV;AAOA,yBAAgBL,MAAM,CAAC,KAAD;AAPtB,OADc,EASd;AAACM,QAAAA,OAAO,EAAC;AAAC,4BAAiBF,YAAY,CAACC,OAAb,CAAqB,OAArB;AAAlB;AAAT,OATc,CAAd;AAWAE,MAAAA,OAAO,CAACC,GAAR,CAAYN,GAAZ;AACH,KAxBiB;;AAAA,SA0BlBO,QA1BkB,GA0BNC,KAAD,IAAW;AAClB,UAAIV,MAAM,GAAG,KAAKC,KAAL,CAAWD,MAAxB;AACAA,MAAAA,MAAM,CAACU,KAAK,CAACC,MAAN,CAAaC,IAAd,CAAN,GAA0BF,KAAK,CAACC,MAAN,CAAaE,KAAvC;AACA,WAAKC,QAAL,CAAc;AAACd,QAAAA;AAAD,OAAd;AACH,KA9BiB;;AAAA,SAkClBe,QAlCkB,GAkCNL,KAAD,IAAW;AAClBA,MAAAA,KAAK,CAACM,cAAN;AAEA,UAAIhB,MAAM,GAAG,KAAKC,KAAL,CAAWD,MAAxB;AACA,UAAIiB,MAAM,GAAG,EAAb;AACA,UAAIC,OAAO,GAAG,IAAd;;AAGA,UAAI,CAAClB,MAAM,CAAC,OAAD,CAAX,EAAsB;AAClBkB,QAAAA,OAAO,GAAC,KAAR;AACAD,QAAAA,MAAM,CAAC,OAAD,CAAN,GAAkB,yBAAlB;AACH;;AAED,UAAI,CAACjB,MAAM,CAAC,IAAD,CAAX,EAAmB;AACfkB,QAAAA,OAAO,GAAC,KAAR;AACAD,QAAAA,MAAM,CAAC,IAAD,CAAN,GAAe,gCAAf;AACH;;AAED,UAAI,CAACjB,MAAM,CAAC,MAAD,CAAX,EAAqB;AACjBkB,QAAAA,OAAO,GAAC,KAAR;AACAD,QAAAA,MAAM,CAAC,MAAD,CAAN,GAAiB,qCAAjB;AACH;;AAED,UAAI,CAACjB,MAAM,CAAC,MAAD,CAAX,EAAqB;AACjBkB,QAAAA,OAAO,GAAC,KAAR;AACAD,QAAAA,MAAM,CAAC,MAAD,CAAN,GAAiB,qCAAjB;AACH;;AAED,UAAI,CAACjB,MAAM,CAAC,KAAD,CAAX,EAAoB;AAChBkB,QAAAA,OAAO,GAAC,KAAR;AACAD,QAAAA,MAAM,CAAC,KAAD,CAAN,GAAgB,6BAAhB;AACH;;AAGD,WAAKH,QAAL,CAAc;AACVG,QAAAA,MAAM,EAAEA;AADE,OAAd;;AAIA,UAAIC,OAAO,KAAG,IAAd,EAAmB;AACf,aAAKJ,QAAL,CAAc;AAACd,UAAAA,MAAM,EAACA;AAAR,SAAd;AAEAO,QAAAA,OAAO,CAACC,GAAR,CAAY,KAAKP,KAAjB;AACA,aAAKF,UAAL;AACAoB,QAAAA,KAAK,CAAC,WAAD,CAAL;AACAC,QAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB;AAGH;AACJ,KAlFiB;;AAEd,SAAKrB,KAAL,GAAW;AACTgB,MAAAA,MAAM,EAAE,EADC;AAETjB,MAAAA,MAAM,EAAE;AAFC,KAAX;AAIA,SAAKS,QAAL,GAAgB,KAAKA,QAAL,CAAcc,IAAd,CAAmB,IAAnB,CAAhB;AACA,SAAKR,QAAL,GAAgB,KAAKA,QAAL,CAAcQ,IAAd,CAAmB,IAAnB,CAAhB;AACH;;AA+EDC,EAAAA,MAAM,GAAG;AAEL,wBAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAM,MAAA,QAAQ,EAAE,KAAKT,QAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA;AAAO,MAAA,OAAO,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADA,eAEA;AACI,MAAA,SAAS,EAAE,KAAKd,KAAL,CAAWgB,MAAX,CAAkBQ,KAAlB,GAA0B,OAA1B,GAAoC,IADnD;AAEI,MAAA,IAAI,EAAC,MAFT;AAGI,MAAA,IAAI,EAAC,OAHT;AAII,MAAA,WAAW,EAAC,iBAJhB;AAKI,MAAA,QAAQ,EAAE,KAAKhB,QALnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFA,eASA;AAAM,MAAA,SAAS,EAAC,cAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAgC,KAAKR,KAAL,CAAWgB,MAAX,CAAkBQ,KAAlD,CATA,CADJ,eAaI;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA;AAAO,MAAA,OAAO,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADA,eAEA;AACI,MAAA,SAAS,EAAE,KAAKxB,KAAL,CAAWgB,MAAX,CAAkBS,IAAlB,GAAyB,OAAzB,GAAmC,IADlD;AAEI,MAAA,IAAI,EAAC,MAFT;AAGI,MAAA,IAAI,EAAC,MAHT;AAII,MAAA,WAAW,EAAC,uBAJhB;AAKI,MAAA,QAAQ,EAAE,KAAKjB,QALnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFA,eASA;AAAM,MAAA,SAAS,EAAC,cAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAgC,KAAKR,KAAL,CAAWgB,MAAX,CAAkBS,IAAlD,CATA,CAbJ,eA0BI;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA;AAAO,MAAA,OAAO,EAAC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BADA,eAEA;AACI,MAAA,SAAS,EAAE,KAAKzB,KAAL,CAAWgB,MAAX,CAAkBU,EAAlB,GAAuB,OAAvB,GAAiC,IADhD;AAEI,MAAA,IAAI,EAAC,MAFT;AAGI,MAAA,IAAI,EAAC,IAHT;AAII,MAAA,WAAW,EAAC,wBAJhB;AAKI,MAAA,QAAQ,EAAE,KAAKlB,QALnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFA,eASA;AAAM,MAAA,SAAS,EAAC,cAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAgC,KAAKR,KAAL,CAAWgB,MAAX,CAAkBU,EAAlD,CATA,CA1BJ,eAsCI;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA;AAAO,MAAA,OAAO,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADA,eAEA;AACI,MAAA,SAAS,EAAE,KAAK1B,KAAL,CAAWgB,MAAX,CAAkBW,IAAlB,GAAyB,OAAzB,GAAmC,IADlD;AAEI,MAAA,IAAI,EAAC,MAFT;AAGI,MAAA,IAAI,EAAC,MAHT;AAII,MAAA,WAAW,EAAC,gBAJhB;AAKI,MAAA,QAAQ,EAAE,KAAKnB,QALnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFA,eASA;AAAM,MAAA,SAAS,EAAC,cAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAgC,KAAKR,KAAL,CAAWgB,MAAX,CAAkBW,IAAlD,CATA,CAtCJ,eAkDI;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA;AAAO,MAAA,OAAO,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADA,eAEA;AACI,MAAA,SAAS,EAAE,KAAK3B,KAAL,CAAWgB,MAAX,CAAkBY,GAAlB,GAAwB,OAAxB,GAAkC,IADjD;AAEI,MAAA,IAAI,EAAC,QAFT;AAGI,MAAA,IAAI,EAAC,KAHT;AAII,MAAA,WAAW,EAAC,uBAJhB;AAKI,MAAA,QAAQ,EAAE,KAAKpB,QALnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFA,eASA;AAAM,MAAA,SAAS,EAAC,cAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAgC,KAAKR,KAAL,CAAWgB,MAAX,CAAkBY,GAAlD,CATA,CAlDJ,eA8DI;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA;AAAO,MAAA,OAAO,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADA,eAEA;AACI,MAAA,SAAS,EAAE,KAAK5B,KAAL,CAAWgB,MAAX,CAAkBa,IAAlB,GAAyB,OAAzB,GAAmC,IADlD;AAEI,MAAA,IAAI,EAAC,MAFT;AAGI,MAAA,IAAI,EAAC,MAHT;AAII,MAAA,WAAW,EAAC,sBAJhB;AAKI,MAAA,QAAQ,EAAE,KAAKrB,QALnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFA,eASA;AAAM,MAAA,SAAS,EAAC,cAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAgC,KAAKR,KAAL,CAAWgB,MAAX,CAAkBa,IAAlD,CATA,CA9DJ,eA2EI;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA;AAAO,MAAA,OAAO,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADA,eAEA;AACI,MAAA,SAAS,EAAE,KAAK7B,KAAL,CAAWgB,MAAX,CAAkBc,GAAlB,GAAwB,OAAxB,GAAkC,IADjD;AAEI,MAAA,IAAI,EAAC,MAFT;AAGI,MAAA,IAAI,EAAC,KAHT;AAII,MAAA,WAAW,EAAC,qBAJhB;AAKI,MAAA,QAAQ,EAAE,KAAKtB,QALnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFA,eASA;AAAM,MAAA,SAAS,EAAC,cAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAgC,KAAKR,KAAL,CAAWgB,MAAX,CAAkBc,GAAlD,CATA,CA3EJ,eAwFI;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAA0B;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAsB,MAAA,KAAK,EAAC,QAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAA1B,CAxFJ,CADJ,CAFJ,CAFA;AAmGH;;AA7LiC;;AAgMtC,eAAepC,OAAf","sourcesContent":["import React from 'react';\r\nimport PrimaryLink from '../axios/primary_link'\r\n\r\n\r\nclass AddForm extends React.Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state={\r\n          errors: {},\r\n          fields: {},\r\n        }\r\n        this.onChange = this.onChange.bind(this);\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n    }\r\n\r\n    createBook = async() =>{\r\n        let fields = this.state.fields;\r\n        let res=await PrimaryLink.post('/books',\r\n        {\"name\":fields['bname'] ,\r\n        \"author\": fields['auth'],\r\n        \"publication_year\":fields['yr'],\r\n        \"in_language\":fields['lang'],\r\n        \"number_of_pages\":fields['pgs'],\r\n        \"publisher\":fields['publ'],\r\n        \"user_id\":localStorage.getItem(\"userid\"),\r\n        \"book_location\":fields['loc']},\r\n        {headers:{'x-access-token':localStorage.getItem(\"token\")}}\r\n        )\r\n        console.log(res)\r\n    }\r\n\r\n    onChange = (event) => {\r\n        let fields = this.state.fields;\r\n        fields[event.target.name]=event.target.value;\r\n        this.setState({fields});\r\n    }\r\n\r\n    \r\n\r\n    onSubmit = (event) => {\r\n        event.preventDefault();\r\n        \r\n        let fields = this.state.fields;\r\n        let errors = {};\r\n        let isValid = true;\r\n\r\n\r\n        if (!fields['bname'] ){\r\n            isValid=false;\r\n            errors['bname'] = \"Please enter book name.\"\r\n        } \r\n\r\n        if (!fields['yr'] ){\r\n            isValid=false;\r\n            errors['yr'] = \"Please enter publication year.\"\r\n        } \r\n\r\n        if (!fields['publ'] ){\r\n            isValid=false;\r\n            errors['publ'] = \"Please enter publisher information.\"\r\n        } \r\n\r\n        if (!fields['lang'] ){\r\n            isValid=false;\r\n            errors['lang'] = \"Please enter publisher information.\"\r\n        } \r\n\r\n        if (!fields['loc'] ){\r\n            isValid=false;\r\n            errors['loc'] = \"Please enter book location.\"\r\n        } \r\n\r\n\r\n        this.setState({\r\n            errors: errors\r\n        });\r\n        \r\n        if (isValid===true){\r\n            this.setState({fields:fields});\r\n  \r\n            console.log(this.state);\r\n            this.createBook();\r\n            alert(\"submitted\");\r\n            window.location.reload();\r\n\r\n  \r\n        }\r\n    }\r\n\r\n    \r\n\r\n\r\n    render() {\r\n        \r\n        return(\r\n\r\n        <div>\r\n            \r\n            <div  >\r\n                <form onSubmit={this.onSubmit}>\r\n                    <div className=\"password\">\r\n                    <label htmlFor='bname'>Book Name:</label>\r\n                    <input \r\n                        className={this.state.errors.bname ? \"error\" : null}\r\n                        type='text' \r\n                        name='bname' \r\n                        placeholder='Enter Book Name' \r\n                        onChange={this.onChange} \r\n                    />\r\n                    <span className=\"errorMessage\">{this.state.errors.bname}</span>\r\n                    </div>\r\n\r\n                    <div className=\"password\">\r\n                    <label htmlFor='auth'>Authors:</label>\r\n                    <input \r\n                        className={this.state.errors.auth ? \"error\" : null}\r\n                        type='text' \r\n                        name='auth' \r\n                        placeholder='Author1, Author2, ...' \r\n                        onChange={this.onChange} \r\n                    />\r\n                    <span className=\"errorMessage\">{this.state.errors.auth}</span>\r\n                    </div>\r\n\r\n\r\n                    <div className=\"password\">\r\n                    <label htmlFor='yr'>Publication Year:</label>\r\n                    <input \r\n                        className={this.state.errors.yr ? \"error\" : null}\r\n                        type='date' \r\n                        name='yr' \r\n                        placeholder='Enter Publication Year' \r\n                        onChange={this.onChange} \r\n                    />\r\n                    <span className=\"errorMessage\">{this.state.errors.yr}</span>\r\n                    </div>\r\n\r\n                    <div className=\"password\">\r\n                    <label htmlFor='lang'>In Language:</label>\r\n                    <input \r\n                        className={this.state.errors.lang ? \"error\" : null}\r\n                        type='text' \r\n                        name='lang' \r\n                        placeholder='Enter Language' \r\n                        onChange={this.onChange} \r\n                    />\r\n                    <span className=\"errorMessage\">{this.state.errors.lang}</span>\r\n                    </div>\r\n\r\n                    <div className=\"password\">\r\n                    <label htmlFor='pgs'>Number of Pages:</label>\r\n                    <input \r\n                        className={this.state.errors.pgs ? \"error\" : null}\r\n                        type='number' \r\n                        name='pgs' \r\n                        placeholder='Enter number of pages' \r\n                        onChange={this.onChange} \r\n                    />\r\n                    <span className=\"errorMessage\">{this.state.errors.pgs}</span>\r\n                    </div>\r\n\r\n                    <div className=\"password\">\r\n                    <label htmlFor='publ'>Publisher:</label>\r\n                    <input \r\n                        className={this.state.errors.publ ? \"error\" : null}\r\n                        type='text' \r\n                        name='publ' \r\n                        placeholder='Enter publisher name' \r\n                        onChange={this.onChange} \r\n                    />\r\n                    <span className=\"errorMessage\">{this.state.errors.publ}</span>\r\n                    </div>\r\n\r\n\r\n                    <div className=\"password\">\r\n                    <label htmlFor='loc'>Book Location:</label>\r\n                    <input \r\n                        className={this.state.errors.loc ? \"error\" : null}\r\n                        type='text' \r\n                        name='loc' \r\n                        placeholder='Enter book location' \r\n                        onChange={this.onChange} \r\n                    />\r\n                    <span className=\"errorMessage\">{this.state.errors.loc}</span>\r\n                    </div>\r\n\r\n                    \r\n                    <div className=\"mySubmit\"><button type=\"submit\" value=\"submit\" >Add</button></div>\r\n                </form>\r\n              \r\n            </div>\r\n        </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default AddForm;"]},"metadata":{},"sourceType":"module"}