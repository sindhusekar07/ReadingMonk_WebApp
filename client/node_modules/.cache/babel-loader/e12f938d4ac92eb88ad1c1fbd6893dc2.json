{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\SINDHUSEKAR\\\\reading-monk\\\\client\\\\src\\\\Scripts\\\\ShowSearch.js\";\nimport React, { useState, useEffect } from 'react';\nimport './Table.css';\nimport PrimaryLink from '../axios/primary_link';\nimport { BrowserRouter as Link, Redirect, useHistory } from 'react-router-dom';\n\nconst ShowSearch = () => {\n  const [books, setbooks] = useState([]);\n  const url = '/books/searchBooks/' + localStorage.getItem(\"query\");\n  useEffect(() => {\n    getData();\n  }, []);\n\n  const getData = async () => {\n    const response = await PrimaryLink.get(url, {\n      headers: {\n        'x-access-token': localStorage.getItem(\"token\")\n      }\n    }).then(response => {\n      // check if the data is populated\n      console.log(response.data);\n      console.log(localStorage.getItem(\"userid\"));\n      console.log(localStorage.getItem(url));\n      setbooks(response.data); // you tell it that you had the result\n    });\n  };\n\n  const history = useHistory();\n\n  const viewData = book_id => {\n    history.push('/userprofile');\n  };\n\n  const renderHeader = () => {\n    let headerElement = ['View?', 'Book', 'Author(s)', 'Publication', 'In Language', 'No. of pages', 'Publisher', 'Location'];\n    return headerElement.map((key, index) => {\n      return /*#__PURE__*/React.createElement(\"th\", {\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 20\n        }\n      }, key.toUpperCase());\n    });\n  };\n\n  const renderBody = () => {\n    return books && books.map(({\n      _id,\n      name,\n      author,\n      publication_year,\n      in_language,\n      number_of_pages,\n      publisher,\n      book_location\n    }) => {\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        key: _id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"view\",\n        onClick: () => viewData(_id),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 25\n        }\n      }, \"View\")), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 21\n        }\n      }, name), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 21\n        }\n      }, author), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 21\n        }\n      }, publication_year), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }\n      }, in_language), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 21\n        }\n      }, number_of_pages), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 21\n        }\n      }, publisher), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }\n      }, book_location));\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mytable\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    id: \"book\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 21\n    }\n  }, renderHeader())), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }\n  }, renderBody()))));\n};\n\nexport default ShowSearch;","map":{"version":3,"sources":["C:/Users/SINDHUSEKAR/reading-monk/client/src/Scripts/ShowSearch.js"],"names":["React","useState","useEffect","PrimaryLink","BrowserRouter","Link","Redirect","useHistory","ShowSearch","books","setbooks","url","localStorage","getItem","getData","response","get","headers","then","console","log","data","history","viewData","book_id","push","renderHeader","headerElement","map","key","index","toUpperCase","renderBody","_id","name","author","publication_year","in_language","number_of_pages","publisher","book_location"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport './Table.css'\r\nimport PrimaryLink from '../axios/primary_link'\r\nimport { BrowserRouter as Link, Redirect, useHistory } from 'react-router-dom';\r\n\r\nconst ShowSearch = () => {\r\n    const [books, setbooks] = useState([])\r\n    const url = '/books/searchBooks/'+ localStorage.getItem(\"query\")\r\n    \r\n\r\n    useEffect(() => {\r\n        getData()\r\n    }, [])\r\n\r\n    const getData = async () => {\r\n\r\n        const response = await PrimaryLink.get(url, \r\n            {headers:{'x-access-token':localStorage.getItem(\"token\")}})\r\n              .then((response) => {\r\n                // check if the data is populated\r\n                console.log(response.data);\r\n                console.log(localStorage.getItem(\"userid\"));\r\n                console.log(localStorage.getItem(url));\r\n                setbooks(response.data)\r\n                // you tell it that you had the result\r\n              });\r\n        \r\n    }\r\n     \r\n    const history = useHistory();\r\n    const viewData = (book_id) => {\r\n        history.push('/userprofile');        \r\n    }\r\n\r\n    const renderHeader = () => {\r\n        let headerElement = ['View?','Book', 'Author(s)', 'Publication', 'In Language', 'No. of pages','Publisher','Location']\r\n\r\n        return headerElement.map((key, index) => {\r\n            return <th key={index}>{key.toUpperCase()}</th>\r\n        })\r\n    }\r\n\r\n    const renderBody = () => {\r\n        return books && books.map(({ _id,name, author, publication_year, in_language,number_of_pages,publisher,book_location }) => {\r\n            return (\r\n                <tr key={_id}>\r\n                    <td>\r\n                        <button className=\"view\"  onClick={() => viewData(_id)}>View</button>\r\n                    </td>\r\n                    <td>{name}</td>\r\n                    <td>{author}</td>\r\n                    <td>{publication_year}</td>\r\n                    <td>{in_language}</td>\r\n                    <td>{number_of_pages}</td>\r\n                    <td>{publisher}</td>\r\n                    <td>{book_location}</td>\r\n                    \r\n                </tr>\r\n            )\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className=\"App\"> \r\n        <div className=\"mytable\"> \r\n            <table id=\"book\">\r\n                <thead>\r\n                    <tr>{renderHeader()}</tr>\r\n                </thead>\r\n                <tbody>\r\n                    {renderBody()}\r\n                </tbody>\r\n            </table>\r\n        </div>   \r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default ShowSearch"]},"metadata":{},"sourceType":"module"}